<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Players Section</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- AOS Animation -->
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">

  <style>
    :root {
      --primary-color: #ffc107;
      --bg-gradient: linear-gradient(120deg, #0f0c29, #302b63, #24243e);
    }

    #players {
      background: var(--bg-gradient);
      padding: 4rem 0 5rem;
    }

    /* === Section Heading === */
    #playersTitle {
      font-size: 2.7rem;
      font-weight: 700;
      text-align: center;
      color: var(--primary-color);
      margin-bottom: 2.5rem;
      text-transform: uppercase;
      letter-spacing: 2px;
      text-shadow: 0 0 10px rgba(255,193,7,0.6);
    }

    /* === Player Card === */
    .player-card .card {
      border-radius: 15px;
      background: #f7f7f7;
      transition: 0.3s;
      cursor: pointer;
      overflow: hidden;
      position: relative;
    }

    .player-card .card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 25px rgba(0,0,0,0.35);
    }

    /* ðŸ”¥ 100% Responsive Player Image */
    .player-card .card-img-top {
      width: 100%;
      aspect-ratio: 1 / 1.2;
      object-fit: cover;
      transition: 0.3s ease;
      border-bottom: 1px solid #ddd;
    }

    .player-card .card:hover .card-img-top {
      transform: scale(1.07);
    }

    /* Mobile adjustments */
    @media (max-width: 576px) {
      .player-card .card-img-top {
        aspect-ratio: 1 / 1.3;
      }
      #playersTitle {
        font-size: 1.9rem;
      }
    }

    #playerModalImg {
      border: 3px solid #ffc107;
      max-width: 180px;
    }
  </style>
</head>

<body>

<!-- Player Section -->
<section id="players">
  <div class="container">

    <!-- â­ TEAM TITLE -->
    <h2 id="playersTitle" data-aos="fade-up">TEAM PLAYERS</h2>

    <!-- FILTER BAR -->
    <div class="d-flex flex-wrap gap-2 mb-4 justify-content-center">
      
      <input type="text" id="searchInput" class="form-control" placeholder="Search Player..."
        style="max-width:180px;" onkeyup="applyFilters()">

      <select id="sortBy" class="form-select" style="max-width:160px;" onchange="applyFilters()">
        <option value="none">Sort</option>
        <option value="az">Aâ€“Z</option>
        <option value="za">Zâ€“A</option>
      </select>

      <select id="roleFilter" class="form-select" style="max-width:160px;" onchange="applyFilters()">
        <option value="all">All Roles</option>
        <option value="Raider">Raider</option>
        <option value="Defender">Defender</option>
        <option value="Allround">All-rounder</option>
      </select>

      <select id="badgeFilter" class="form-select" style="max-width:160px;" onchange="applyFilters()">
        <option value="all">All Badges</option>
        <option value="Captain">Captain</option>
        <option value="Vice-Captain">Vice-Captain</option>
      </select>

    </div>

    <!-- PLAYER GRID -->
    <div class="row" id="playersGrid"></div>
  </div>
</section>


<!-- Player Modal -->
<div class="modal fade" id="playerModal">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">

      <div class="modal-header">
        <h5 id="playerModalName"></h5>
        <button class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body text-center">
        <img id="playerModalImg" class="img-fluid rounded mb-3">
        <p><b>Role:</b> <span id="playerModalRole"></span></p>
        <ul id="playerModalMore" class="list-unstyled"></ul>
      </div>

    </div>
  </div>
</div>


<script>
AOS.init({ once: true });

const players = [
  { name: "Aadhi", role: "Defender", image: "image/Aathi.jpg", badge: "Captain", more: ["Strong defense", "Fast reaction"] },
  { name: "Ashva", role: "Allround", image: "image/Ashva.jpg", badge: "Vice-Captain" },
  { name: "Karthi", role: "Raider", image: "image/karthi.jpg" },
  { name: "Suresh", role: "Defender", image: "image/suresh.jpg" },
  { name: "Dharshan", role: "Defender", image: "image/dharshan.jpg" },
  { name: "Santhosh", role: "Allround", image: "image/Santhosh.jpg" },
  { name: "Viswa", role: "Raider", image: "image/Viswa.jpg" },
  { name: "Sanjey", role: "Allround", image: "image/Sanjey.jpg" },
  { name: "Sabari", role: "Allround", image: "image/Sabari.jpg" },
  { name: "Vishnu", role: "Allround", image: "image/vishnu.jpg" },
  { name: "Vishal", role: "Raider", image: "" },
  { name: "Raja", role: "Allround", image: "" },
  { name: "Sankar", role: "Allround", image: "" },
  { name: "Ajay", role: "Allround", image: "" }
];

function getImage(img){
  return img && img.trim() !== "" ? img : "https://upload.wikimedia.org/wikipedia/commons/9/99/Sample_User_Icon.png";
}

function applyFilters() {
  let role = document.getElementById("roleFilter").value;
  let badge = document.getElementById("badgeFilter").value;
  let sort = document.getElementById("sortBy").value;
  let search = document.getElementById("searchInput").value.toLowerCase();

  let filtered = players
    .map((p, i) => ({ ...p, originalIndex: i }))
    .filter(p => (role === "all" || p.role === role))
    .filter(p => (badge === "all" || p.badge === badge))
    .filter(p => p.name.toLowerCase().includes(search));

  if (sort === "az") filtered.sort((a,b)=> a.name.localeCompare(b.name));
  if (sort === "za") filtered.sort((a,b)=> b.name.localeCompare(a.name));

  renderPlayers(filtered);
}

function renderPlayers(list){
  let grid = document.getElementById("playersGrid");
  grid.innerHTML = "";

  list.forEach(p => {
    grid.innerHTML += `
      <div class="col-6 col-sm-6 col-md-4 col-lg-3 mb-4 player-card">
        <div class="card">

          ${p.badge ? `<span class="badge bg-warning text-dark position-absolute m-2">${p.badge}</span>` : ""}

          <img src="${getImage(p.image)}" class="card-img-top">

          <div class="card-body text-center">
            <h5>${p.name}</h5>
            <p class="text-secondary">${p.role}</p>
            <button class="btn btn-sm btn-outline-primary" onclick="openPlayerModal(${p.originalIndex})">View Profile</button>
          </div>

        </div>
      </div>
    `;
  });
}

function openPlayerModal(index){
  const p = players[index];

  document.getElementById('playerModalName').innerText = p.name;
  document.getElementById('playerModalRole').innerText = p.role;
  document.getElementById('playerModalImg').src = getImage(p.image);

  let list = document.getElementById('playerModalMore');
  list.innerHTML = "";
  (p.more || []).forEach(x => list.innerHTML += `<li>â€¢ ${x}</li>`);

  new bootstrap.Modal(document.getElementById('playerModal')).show();
}

applyFilters();
</script>

</body>
</html>

