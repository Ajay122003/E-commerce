<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Players Section</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- AOS Animation -->
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">

  <style>
    :root {
      --primary-color: #ffc107;
      --bg-gradient: linear-gradient(120deg, #0f0c29, #302b63, #24243e);
    }

    /* =================== SECTION =================== */
    #players {
      background: var(--bg-gradient);
      padding: 4rem 0 5rem;
    }

    /* Center widening container */
    #players .container {
      max-width: 1250px !important;
    }

    /* Section Title */
    #playersTitle {
      font-size: 2.7rem;
      font-weight: 700;
      text-align: center;
      color: var(--primary-color);
      margin-bottom: 2.5rem;
      text-transform: uppercase;
      letter-spacing: 2px;
      text-shadow: 0 0 10px rgba(255,193,7,0.6);
    }

    /* =================== PLAYER CARD =================== */
    .player-card {
      padding: 10px !important;      /* extra spacing around card */
    }

    .player-card .card {
      border-radius: 15px;
      background: #f8f8f8;
      transition: 0.3s;
      cursor: pointer;
      overflow: hidden;
      position: relative;
      border: none;
    }

    .player-card .card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 25px rgba(0,0,0,0.35);
    }

    /* BIG responsive player images */
    .player-card .card-img-top {
      width: 100%;
      aspect-ratio: 1 / 1.05;
      object-fit: cover;
      transition: 0.3s ease;
      border-bottom: 1px solid #ddd;
    }

    .player-card .card:hover .card-img-top {
      transform: scale(1.07);
    }

    /* Mobile BIGGER images */
    @media (max-width: 576px) {
      .player-card .card-img-top {
        aspect-ratio: 1 / 0.90;   /* taller image on mobile */
      }
      #playersTitle {
        font-size: 2.1rem;
      }
    }

    #playerModalImg {
      border: 3px solid #ffc107;
      max-width: 180px;
    }

    /* =================== PAGINATION =================== */
    .pagination {
      margin-top: 28px;
    }

    .pagination .page-item {
      margin: 0 5px;
    }

    .pagination .page-link {
      padding: 8px 14px;
      border-radius: 6px;
      font-weight: 600;
      color: #222;
    }

    .pagination .active .page-link {
      background: var(--primary-color);
      color: #000;
      border: none;
    }
  </style>
</head>

<body>

<!-- =================== PLAYERS SECTION =================== -->
<section id="players">
  <div class="container">

    <!-- ⭐ TEAM TITLE -->
    <h2 id="playersTitle" data-aos="fade-up">TEAM PLAYERS</h2>

    <!-- FILTER BAR -->
    <div class="d-flex flex-wrap gap-2 mb-4 justify-content-center">
      
      <input type="text" id="searchInput" class="form-control" placeholder="Search Player..."
        style="max-width:180px;" onkeyup="applyFilters()">

      <select id="sortBy" class="form-select" style="max-width:160px;" onchange="applyFilters()">
        <option value="none">Sort</option>
        <option value="az">A–Z</option>
        <option value="za">Z–A</option>
      </select>

      <select id="roleFilter" class="form-select" style="max-width:160px;" onchange="applyFilters()">
        <option value="all">All Roles</option>
        <option value="Raider">Raider</option>
        <option value="Defender">Defender</option>
        <option value="Allround">All-rounder</option>
      </select>

      <select id="badgeFilter" class="form-select" style="max-width:160px;" onchange="applyFilters()">
        <option value="all">All Badges</option>
        <option value="Captain">Captain</option>
        <option value="Vice-Captain">Vice-Captain</option>
      </select>

    </div>

    <!-- PLAYER GRID -->
    <div class="row" id="playersGrid"></div>

    <!-- PAGINATION -->
    <nav>
      <ul class="pagination justify-content-center" id="pagination"></ul>
    </nav>

  </div>
</section>


<!-- =================== PLAYER MODAL =================== -->
<div class="modal fade" id="playerModal">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">

      <div class="modal-header">
        <h5 id="playerModalName"></h5>
        <button class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body text-center">
        <img id="playerModalImg" class="img-fluid rounded mb-3">
        <p><b>Role:</b> <span id="playerModalRole"></span></p>
        <ul id="playerModalMore" class="list-unstyled"></ul>
      </div>

    </div>
  </div>
</div>


<script>
AOS.init({ once: true });

const players = [
  { name: "Aadhi", role: "Defender", image: "image/Aathi.jpg", badge: "Captain", more: ["Strong defense"] },
  { name: "Ashva", role: "Allround", image: "image/Ashva.jpg", badge: "Vice-Captain" },
  { name: "Karthi", role: "Raider", image: "image/karthi.jpg" },
  { name: "Suresh", role: "Defender", image: "image/suresh.jpg" },
  { name: "Dharshan", role: "Defender", image: "image/dharshan.jpg" },
  { name: "Santhosh", role: "Allround", image: "image/Santhosh.jpg" },
  { name: "Viswa", role: "Raider", image: "image/Viswa.jpg" },
  { name: "Sanjey", role: "Allround", image: "image/Sanjey.jpg" },
  { name: "Sabari", role: "Allround", image: "image/Sabari.jpg" },
  { name: "Vishnu", role: "Allround", image: "image/vishnu.jpg" },
  { name: "Vishal", role: "Raider", image: "" },
  { name: "Raja", role: "Allround", image: "" },
  { name: "Sankar", role: "Allround", image: "" },
  { name: "Ajay", role: "Allround", image: "" }
];

let currentPage = 1;
const itemsPerPage = 12;
let filteredList = [];

function getImage(img){
  return img && img.trim() !== "" ? img : "https://upload.wikimedia.org/wikipedia/commons/9/99/Sample_User_Icon.png";
}

function applyFilters() {
  let role = document.getElementById("roleFilter").value;
  let badge = document.getElementById("badgeFilter").value;
  let sort = document.getElementById("sortBy").value;
  let search = document.getElementById("searchInput").value.toLowerCase();

  filteredList = players
    .map((p,i)=>({...p, original:i}))
    .filter(p => (role === "all" || p.role === role))
    .filter(p => (badge === "all" || p.badge === badge))
    .filter(p => p.name.toLowerCase().includes(search));

  if (sort === "az") filteredList.sort((a,b)=> a.name.localeCompare(b.name));
  if (sort === "za") filteredList.sort((a,b)=> b.name.localeCompare(a.name));

  currentPage = 1;
  renderPlayers();
  renderPagination();
}

function renderPlayers() {
  let grid = document.getElementById("playersGrid");
  grid.innerHTML = "";

  let start = (currentPage - 1) * itemsPerPage;
  let end = start + itemsPerPage;
  let pageItems = filteredList.slice(start, end);

  pageItems.forEach(p => {
    grid.innerHTML += `
      <div class="col-6 col-md-4 col-lg-3 mb-4 player-card">
        <div class="card">
          ${p.badge ? `<span class="badge bg-warning text-dark position-absolute m-2">${p.badge}</span>` : ""}
          <img src="${getImage(p.image)}" class="card-img-top">
          <div class="card-body text-center">
            <h5>${p.name}</h5>
            <p>${p.role}</p>
            <button class="btn btn-sm btn-outline-primary" onclick="openPlayerModal(${p.original})">View Profile</button>
          </div>
        </div>
      </div>
    `;
  });
}

function renderPagination(){
  let totalPages = Math.ceil(filteredList.length / itemsPerPage);
  let pag = document.getElementById("pagination");
  pag.innerHTML = "";

  for(let i=1;i<=totalPages;i++){
    pag.innerHTML += `
      <li class="page-item ${i===currentPage?'active':''}">
        <a class="page-link" href="#" onclick="goToPage(${i})">${i}</a>
      </li>
    `;
  }
}

function goToPage(p){
  currentPage = p;
  renderPlayers();
  renderPagination();
}

function openPlayerModal(i){
  const p = players[i];
  document.getElementById("playerModalName").innerText = p.name;
  document.getElementById("playerModalRole").innerText = p.role;
  document.getElementById("playerModalImg").src = getImage(p.image);
  document.getElementById("playerModalMore").innerHTML = (p.more||[]).map(x=>`<li>• ${x}</li>`).join("");
  new bootstrap.Modal(document.getElementById("playerModal")).show();
}

applyFilters();
</script>

</body>
</html>
